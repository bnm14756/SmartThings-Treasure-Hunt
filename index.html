<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>SmartThings ê°€ìƒ í™ˆ ë³´ë¬¼ì°¾ê¸°</title>
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>ğŸ </text></svg>">
    
    <script>
      (function() {
        // --- Strategy: Pre-emptive Neutralization ---
        // ë¸Œë¼ìš°ì €ì˜ ì €ì¥ì†Œ ì ‘ê·¼ ì°¨ë‹¨ ì˜¤ë¥˜ë¥¼ ì›ì²œ ë´‰ì‡„í•©ë‹ˆë‹¤.
        
        // 1. Global Error Killer (ì „ì—­ ì˜¤ë¥˜ ì‚¬ì‚´)
        // ì €ì¥ì†Œ ê´€ë ¨ ì˜¤ë¥˜ê°€ ë°œìƒí•˜ë©´ ë¸Œë¼ìš°ì €ê°€ ì‹¤í–‰ì„ ë©ˆì¶”ê¸° ì „ì— ì˜¤ë¥˜ë¥¼ ì—†ì•±ë‹ˆë‹¤.
        function killError(e) {
          var msg = '';
          if (e.reason) msg = typeof e.reason === 'object' ? (e.reason.message || '') : String(e.reason);
          else if (e.message) msg = e.message;
          else if (e.error) msg = e.error.message || '';

          // ì €ì¥ì†Œ(Storage), ë³´ì•ˆ(Security), í• ë‹¹ëŸ‰(Quota), ì¿ í‚¤(Cookie) ê´€ë ¨ ì˜¤ë¥˜ í•„í„°ë§
          if (/Access to storage|Security|quota|denied|insecure|Database|cookies/i.test(msg)) {
            e.preventDefault();
            e.stopImmediatePropagation();
            if (console && console.warn) console.warn('Suppressed fatal storage error to keep app alive:', msg);
            return true;
          }
        }
        window.addEventListener('error', killError, true);
        window.addEventListener('unhandledrejection', killError, true);

        // 2. Mock Storage Objects (ê°€ì§œ ë©”ëª¨ë¦¬ ì €ì¥ì†Œ)
        // ì €ì¥ì†Œ ê¸°ëŠ¥ì´ í•„ìš”í•œ ë¼ì´ë¸ŒëŸ¬ë¦¬ê°€ ì˜¤ë¥˜ ì—†ì´ ì‘ë™í•˜ë„ë¡ ë¹ˆ ê»ë°ê¸°ë¥¼ ì œê³µí•©ë‹ˆë‹¤.
        var dummyStorage = {
          getItem: function() { return null; },
          setItem: function() { },
          removeItem: function() { },
          clear: function() { },
          key: function() { return null; },
          get length() { return 0; }
        };

        // 3. Aggressive Shim Injection (ê°•ì œ ì£¼ì…)
        // window ê°ì²´ì˜ ì €ì¥ì†Œ ì†ì„±ì„ ê°€ì§œ ê°ì²´ë¡œ ë®ì–´ì”Œì›ë‹ˆë‹¤.
        // ê° ì‹œë„ë§ˆë‹¤ try-catchë¥¼ ê±¸ì–´, í•˜ë‚˜ê°€ ì‹¤íŒ¨í•´ë„ ë‚˜ë¨¸ì§€ëŠ” ì ìš©ë˜ë„ë¡ í•©ë‹ˆë‹¤.
        try {
          try { Object.defineProperty(window, 'localStorage', { value: dummyStorage, configurable: true, writable: true }); } catch(e) {}
          try { Object.defineProperty(window, 'sessionStorage', { value: dummyStorage, configurable: true, writable: true }); } catch(e) {}
          
          try { window.localStorage = dummyStorage; } catch(e) {}
          try { window.sessionStorage = dummyStorage; } catch(e) {}
          
          // IndexedDBê¹Œì§€ ë¬´ë ¥í™”
          try { 
            window.indexedDB = { 
              open: function() { 
                return { 
                  result: { 
                    createObjectStore: function(){}, 
                    transaction: function(){ return { objectStore: function(){ return { put: function(){}, get: function(){} } } } } 
                  },
                  addEventListener: function(evt, cb) { if(evt === 'success') cb({ target: { result: this.result } }); }
                }; 
              } 
            }; 
          } catch(e) {}
        } catch(mainErr) {
          // ì£¼ì… ì‹¤íŒ¨ ì‹œ ìœ„ì˜ killError ë¦¬ìŠ¤ë„ˆê°€ ìµœí›„ì˜ ë³´ë£¨ ì—­í• ì„ í•©ë‹ˆë‹¤.
        }
      })();
    </script>
    
    <script type="importmap">
{
  "imports": {
    "react": "https://aistudiocdn.com/react@^19.2.1",
    "react-dom/": "https://aistudiocdn.com/react-dom@^19.2.1/",
    "react/": "https://aistudiocdn.com/react@^19.2.1/",
    "lucide-react": "https://aistudiocdn.com/lucide-react@^0.556.0"
  }
}
</script>
</head>
  <body>
    <div id="root">
      <style>
        .loading-fallback { font-family: system-ui; height: 100vh; display: flex; align-items: center; justify-content: center; background: #f2f2f7; color: #8e8e93; font-weight: 500; }
      </style>
      <div class="loading-fallback">Loading SmartThings Virtual Home...</div>
    </div>
  </body>
</html>